{"ast":null,"code":"import React from'react';import{useDetections}from'../context/DetectionContext';import{Activity,Clock,MapPin,Eye}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecentDetections=()=>{const{detections,loading}=useDetections();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-300 dark:bg-slate-600 rounded w-1/2 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:[...Array(3)].map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-300 dark:bg-slate-600 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-300 dark:bg-slate-600 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-300 dark:bg-slate-600 rounded w-1/2\"})]})]},i))})]})});}const formatTimestamp=timestamp=>{const date=new Date(timestamp);const now=new Date();const diffInMinutes=Math.floor((now-date)/(1000*60));if(diffInMinutes<1)return'Just now';if(diffInMinutes<60)return\"\".concat(diffInMinutes,\"m ago\");if(diffInMinutes<1440)return\"\".concat(Math.floor(diffInMinutes/60),\"h ago\");return date.toLocaleDateString();};const getObjectTypeColor=objectType=>{switch(objectType){case'person':return'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';case'vehicle':return'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';case'animal':return'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';default:return'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';}};const getConfidenceColor=confidence=>{if(confidence>=0.9)return'text-green-600 dark:text-green-400';if(confidence>=0.7)return'text-yellow-600 dark:text-yellow-400';return'text-red-600 dark:text-red-400';};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Recent Detections\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\",children:\"View All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:detections.slice(0,5).map(detection=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 text-blue-600 dark:text-blue-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:detection.camera_name}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(getObjectTypeColor(detection.object_type)),children:detection.object_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-1\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:detection.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTimestamp(detection.timestamp)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(getConfidenceColor(detection.confidence)),children:[Math.round(detection.confidence*100),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})})]},detection.id))}),detections.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Activity,{className:\"h-12 w-12 text-gray-400 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No recent detections\"})]})]});};export default RecentDetections;","map":{"version":3,"names":["React","useDetections","Activity","Clock","MapPin","Eye","jsx","_jsx","jsxs","_jsxs","RecentDetections","detections","loading","className","children","Array","map","_","i","formatTimestamp","timestamp","date","Date","now","diffInMinutes","Math","floor","concat","toLocaleDateString","getObjectTypeColor","objectType","getConfidenceColor","confidence","slice","detection","camera_name","object_type","location","round","id","length"],"sources":["C:/Users/ayeka/New folder/react-cctv-dashboard/src/components/RecentDetections.js"],"sourcesContent":["import React from 'react';\r\nimport { useDetections } from '../context/DetectionContext';\r\nimport { Activity, Clock, MapPin, Eye } from 'lucide-react';\r\n\r\nconst RecentDetections = () => {\r\n  const { detections, loading } = useDetections();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-5 bg-gray-300 dark:bg-slate-600 rounded w-1/2 mb-4\"></div>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(3)].map((_, i) => (\r\n              <div key={i} className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 bg-gray-300 dark:bg-slate-600 rounded-full\"></div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"h-4 bg-gray-300 dark:bg-slate-600 rounded w-3/4 mb-2\"></div>\r\n                  <div className=\"h-3 bg-gray-300 dark:bg-slate-600 rounded w-1/2\"></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now - date) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const getObjectTypeColor = (objectType) => {\r\n    switch (objectType) {\r\n      case 'person':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n      case 'vehicle':\r\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\r\n      case 'animal':\r\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';\r\n    }\r\n  };\r\n\r\n  const getConfidenceColor = (confidence) => {\r\n    if (confidence >= 0.9) return 'text-green-600 dark:text-green-400';\r\n    if (confidence >= 0.7) return 'text-yellow-600 dark:text-yellow-400';\r\n    return 'text-red-600 dark:text-red-400';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\r\n          Recent Detections\r\n        </h3>\r\n        <button className=\"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\r\n          View All\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {detections.slice(0, 5).map((detection) => (\r\n          <div\r\n            key={detection.id}\r\n            className=\"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors\"\r\n          >\r\n            {/* Detection Icon */}\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center\">\r\n                <Activity className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Detection Details */}\r\n            <div className=\"flex-1 min-w-0\">\r\n              <div className=\"flex items-center space-x-2 mb-1\">\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {detection.camera_name}\r\n                </span>\r\n                <span\r\n                  className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getObjectTypeColor(\r\n                    detection.object_type\r\n                  )}`}\r\n                >\r\n                  {detection.object_type}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-1\">\r\n                <MapPin className=\"h-3 w-3\" />\r\n                <span>{detection.location}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400\">\r\n                  <Clock className=\"h-3 w-3\" />\r\n                  <span>{formatTimestamp(detection.timestamp)}</span>\r\n                </div>\r\n                <span className={`text-sm font-medium ${getConfidenceColor(detection.confidence)}`}>\r\n                  {Math.round(detection.confidence * 100)}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Button */}\r\n            <button className=\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded\">\r\n              <Eye className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {detections.length === 0 && (\r\n        <div className=\"text-center py-8\">\r\n          <Activity className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\r\n          <p className=\"text-gray-500 dark:text-gray-400\">No recent detections</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecentDetections;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}