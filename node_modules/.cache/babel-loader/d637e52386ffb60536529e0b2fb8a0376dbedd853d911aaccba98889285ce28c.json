{"ast":null,"code":"import React from'react';import{useDetections}from'../context/DetectionContext';import{AlertTriangle,X,CheckCircle,Info}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlertsPanel=()=>{const{alerts,acknowledgeAlert,loading}=useDetections();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-300 dark:bg-slate-600 rounded w-1/3 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:[...Array(3)].map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-300 dark:bg-slate-600 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-300 dark:bg-slate-600 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-gray-300 dark:bg-slate-600 rounded w-1/2\"})]})]},i))})]})});}const getSeverityIcon=severity=>{switch(severity){case'high':return/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-red-500\"});case'medium':return/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-yellow-500\"});case'low':return/*#__PURE__*/_jsx(Info,{className:\"h-4 w-4 text-blue-500\"});default:return/*#__PURE__*/_jsx(Info,{className:\"h-4 w-4 text-gray-500\"});}};const getSeverityColor=severity=>{switch(severity){case'high':return'border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20';case'medium':return'border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20';case'low':return'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20';default:return'border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-900/20';}};const formatTimestamp=timestamp=>{const date=new Date(timestamp);const now=new Date();const diffInMinutes=Math.floor((now-date)/(1000*60));if(diffInMinutes<1)return'Just now';if(diffInMinutes<60)return\"\".concat(diffInMinutes,\"m ago\");if(diffInMinutes<1440)return\"\".concat(Math.floor(diffInMinutes/60),\"h ago\");return date.toLocaleDateString();};const unacknowledgedAlerts=alerts.filter(alert=>!alert.acknowledged);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Alerts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[unacknowledgedAlerts.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\",children:[unacknowledgedAlerts.length,\" New\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\",children:\"View All\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:alerts.slice(0,5).map(alert=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg border \".concat(getSeverityColor(alert.severity),\" \").concat(alert.acknowledged?'opacity-60':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mt-0.5\",children:getSeverityIcon(alert.severity)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:alert.message}),!alert.acknowledged&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>acknowledgeAlert(alert.id),className:\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded\",children:/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:alert.camera_name}),/*#__PURE__*/_jsx(\"span\",{children:formatTimestamp(alert.timestamp)})]}),alert.acknowledged&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 mt-2 text-xs text-green-600 dark:text-green-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Acknowledged\"})]})]})]})},alert.id))}),alerts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-12 w-12 text-green-400 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No active alerts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 dark:text-gray-500\",children:\"All systems are running normally\"})]})]});};export default AlertsPanel;","map":{"version":3,"names":["React","useDetections","AlertTriangle","X","CheckCircle","Info","jsx","_jsx","jsxs","_jsxs","AlertsPanel","alerts","acknowledgeAlert","loading","className","children","Array","map","_","i","getSeverityIcon","severity","getSeverityColor","formatTimestamp","timestamp","date","Date","now","diffInMinutes","Math","floor","concat","toLocaleDateString","unacknowledgedAlerts","filter","alert","acknowledged","length","slice","message","onClick","id","camera_name"],"sources":["C:/Users/ayeka/New folder/react-cctv-dashboard/src/components/AlertsPanel.js"],"sourcesContent":["import React from 'react';\r\nimport { useDetections } from '../context/DetectionContext';\r\nimport { AlertTriangle, X, CheckCircle, Info } from 'lucide-react';\r\n\r\nconst AlertsPanel = () => {\r\n  const { alerts, acknowledgeAlert, loading } = useDetections();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-5 bg-gray-300 dark:bg-slate-600 rounded w-1/3 mb-4\"></div>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(3)].map((_, i) => (\r\n              <div key={i} className=\"flex items-center space-x-3\">\r\n                <div className=\"w-4 h-4 bg-gray-300 dark:bg-slate-600 rounded-full\"></div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"h-4 bg-gray-300 dark:bg-slate-600 rounded w-3/4 mb-2\"></div>\r\n                  <div className=\"h-3 bg-gray-300 dark:bg-slate-600 rounded w-1/2\"></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getSeverityIcon = (severity) => {\r\n    switch (severity) {\r\n      case 'high':\r\n        return <AlertTriangle className=\"h-4 w-4 text-red-500\" />;\r\n      case 'medium':\r\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />;\r\n      case 'low':\r\n        return <Info className=\"h-4 w-4 text-blue-500\" />;\r\n      default:\r\n        return <Info className=\"h-4 w-4 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getSeverityColor = (severity) => {\r\n    switch (severity) {\r\n      case 'high':\r\n        return 'border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20';\r\n      case 'medium':\r\n        return 'border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20';\r\n      case 'low':\r\n        return 'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20';\r\n      default:\r\n        return 'border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-900/20';\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now - date) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const unacknowledgedAlerts = alerts.filter(alert => !alert.acknowledged);\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">\r\n          Alerts\r\n        </h3>\r\n        <div className=\"flex items-center space-x-2\">\r\n          {unacknowledgedAlerts.length > 0 && (\r\n            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\">\r\n              {unacknowledgedAlerts.length} New\r\n            </span>\r\n          )}\r\n          <button className=\"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\r\n            View All\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-3\">\r\n        {alerts.slice(0, 5).map((alert) => (\r\n          <div\r\n            key={alert.id}\r\n            className={`p-3 rounded-lg border ${getSeverityColor(alert.severity)} ${\r\n              alert.acknowledged ? 'opacity-60' : ''\r\n            }`}\r\n          >\r\n            <div className=\"flex items-start space-x-3\">\r\n              <div className=\"flex-shrink-0 mt-0.5\">\r\n                {getSeverityIcon(alert.severity)}\r\n              </div>\r\n              \r\n              <div className=\"flex-1 min-w-0\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                    {alert.message}\r\n                  </p>\r\n                  {!alert.acknowledged && (\r\n                    <button\r\n                      onClick={() => acknowledgeAlert(alert.id)}\r\n                      className=\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded\"\r\n                    >\r\n                      <X className=\"h-3 w-3\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400\">\r\n                  <span>{alert.camera_name}</span>\r\n                  <span>{formatTimestamp(alert.timestamp)}</span>\r\n                </div>\r\n                \r\n                {alert.acknowledged && (\r\n                  <div className=\"flex items-center space-x-1 mt-2 text-xs text-green-600 dark:text-green-400\">\r\n                    <CheckCircle className=\"h-3 w-3\" />\r\n                    <span>Acknowledged</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {alerts.length === 0 && (\r\n        <div className=\"text-center py-8\">\r\n          <CheckCircle className=\"h-12 w-12 text-green-400 mx-auto mb-3\" />\r\n          <p className=\"text-gray-500 dark:text-gray-400\">No active alerts</p>\r\n          <p className=\"text-sm text-gray-400 dark:text-gray-500\">All systems are running normally</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertsPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}