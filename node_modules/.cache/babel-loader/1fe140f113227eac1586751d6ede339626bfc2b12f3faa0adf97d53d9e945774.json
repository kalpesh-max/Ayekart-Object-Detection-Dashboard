{"ast":null,"code":"import _objectSpread from\"C:/Users/ayeka/New folder/react-cctv-dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const DetectionContext=/*#__PURE__*/createContext();export const useDetections=()=>{const context=useContext(DetectionContext);if(!context){throw new Error('useDetections must be used within a DetectionProvider');}return context;};export const DetectionProvider=_ref=>{let{children}=_ref;const[detections,setDetections]=useState([]);const[alerts,setAlerts]=useState([]);const[stats,setStats]=useState({total_detections:0,today_detections:0,motion_events:0,recording_time:'0h 0m',storage_used:'0 GB',system_status:'Online'});const[loading,setLoading]=useState(true);// Mock detection data\nconst mockDetections=[{id:1,camera_id:1,camera_name:'Front Door Camera',timestamp:'2024-01-15T10:30:00Z',type:'motion',confidence:0.95,object_type:'person',location:'Main Entrance',image_url:'/api/detections/1/image',video_url:'/api/detections/1/video'},{id:2,camera_id:2,camera_name:'Backyard Camera',timestamp:'2024-01-15T10:25:00Z',type:'motion',confidence:0.87,object_type:'animal',location:'Garden Area',image_url:'/api/detections/2/image',video_url:'/api/detections/2/video'},{id:3,camera_id:1,camera_name:'Front Door Camera',timestamp:'2024-01-15T10:20:00Z',type:'motion',confidence:0.92,object_type:'vehicle',location:'Main Entrance',image_url:'/api/detections/3/image',video_url:'/api/detections/3/video'}];// Mock alerts data\nconst mockAlerts=[{id:1,type:'motion_detected',camera_id:1,camera_name:'Front Door Camera',timestamp:'2024-01-15T10:30:00Z',message:'Motion detected at Front Door Camera',severity:'medium',acknowledged:false},{id:2,type:'camera_offline',camera_id:3,camera_name:'Parking Lot Camera',timestamp:'2024-01-15T09:45:00Z',message:'Parking Lot Camera is offline',severity:'high',acknowledged:true}];// Mock stats data\nconst mockStats={total_detections:156,today_detections:12,motion_events:89,recording_time:'24h 15m',storage_used:'4.6 GB',system_status:'Online'};useEffect(()=>{const fetchData=async()=>{try{setLoading(true);// Simulate API call\nawait new Promise(resolve=>setTimeout(resolve,1000));setDetections(mockDetections);setAlerts(mockAlerts);setStats(mockStats);}catch(err){console.error('Failed to fetch detection data:',err);// Fallback to mock data\nsetDetections(mockDetections);setAlerts(mockAlerts);setStats(mockStats);}finally{setLoading(false);}};fetchData();},[]);const addDetection=detection=>{setDetections(prev=>[detection,...prev]);setStats(prev=>_objectSpread(_objectSpread({},prev),{},{total_detections:prev.total_detections+1,today_detections:prev.today_detections+1}));};const addAlert=alert=>{setAlerts(prev=>[alert,...prev]);};const acknowledgeAlert=alertId=>{setAlerts(prev=>prev.map(alert=>alert.id===alertId?_objectSpread(_objectSpread({},alert),{},{acknowledged:true}):alert));};const refreshData=async()=>{setLoading(true);try{// Simulate refresh\nawait new Promise(resolve=>setTimeout(resolve,500));setDetections([...mockDetections]);setAlerts([...mockAlerts]);setStats(_objectSpread({},mockStats));}catch(err){console.error('Failed to refresh data:',err);}finally{setLoading(false);}};const value={detections,alerts,stats,loading,addDetection,addAlert,acknowledgeAlert,refreshData};return/*#__PURE__*/_jsx(DetectionContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","DetectionContext","useDetections","context","Error","DetectionProvider","_ref","children","detections","setDetections","alerts","setAlerts","stats","setStats","total_detections","today_detections","motion_events","recording_time","storage_used","system_status","loading","setLoading","mockDetections","id","camera_id","camera_name","timestamp","type","confidence","object_type","location","image_url","video_url","mockAlerts","message","severity","acknowledged","mockStats","fetchData","Promise","resolve","setTimeout","err","console","error","addDetection","detection","prev","_objectSpread","addAlert","alert","acknowledgeAlert","alertId","map","refreshData","value","Provider"],"sources":["C:/Users/ayeka/New folder/react-cctv-dashboard/src/context/DetectionContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst DetectionContext = createContext();\r\n\r\nexport const useDetections = () => {\r\n  const context = useContext(DetectionContext);\r\n  if (!context) {\r\n    throw new Error('useDetections must be used within a DetectionProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const DetectionProvider = ({ children }) => {\r\n  const [detections, setDetections] = useState([]);\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    total_detections: 0,\r\n    today_detections: 0,\r\n    motion_events: 0,\r\n    recording_time: '0h 0m',\r\n    storage_used: '0 GB',\r\n    system_status: 'Online'\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Mock detection data\r\n  const mockDetections = [\r\n    {\r\n      id: 1,\r\n      camera_id: 1,\r\n      camera_name: 'Front Door Camera',\r\n      timestamp: '2024-01-15T10:30:00Z',\r\n      type: 'motion',\r\n      confidence: 0.95,\r\n      object_type: 'person',\r\n      location: 'Main Entrance',\r\n      image_url: '/api/detections/1/image',\r\n      video_url: '/api/detections/1/video'\r\n    },\r\n    {\r\n      id: 2,\r\n      camera_id: 2,\r\n      camera_name: 'Backyard Camera',\r\n      timestamp: '2024-01-15T10:25:00Z',\r\n      type: 'motion',\r\n      confidence: 0.87,\r\n      object_type: 'animal',\r\n      location: 'Garden Area',\r\n      image_url: '/api/detections/2/image',\r\n      video_url: '/api/detections/2/video'\r\n    },\r\n    {\r\n      id: 3,\r\n      camera_id: 1,\r\n      camera_name: 'Front Door Camera',\r\n      timestamp: '2024-01-15T10:20:00Z',\r\n      type: 'motion',\r\n      confidence: 0.92,\r\n      object_type: 'vehicle',\r\n      location: 'Main Entrance',\r\n      image_url: '/api/detections/3/image',\r\n      video_url: '/api/detections/3/video'\r\n    }\r\n  ];\r\n\r\n  // Mock alerts data\r\n  const mockAlerts = [\r\n    {\r\n      id: 1,\r\n      type: 'motion_detected',\r\n      camera_id: 1,\r\n      camera_name: 'Front Door Camera',\r\n      timestamp: '2024-01-15T10:30:00Z',\r\n      message: 'Motion detected at Front Door Camera',\r\n      severity: 'medium',\r\n      acknowledged: false\r\n    },\r\n    {\r\n      id: 2,\r\n      type: 'camera_offline',\r\n      camera_id: 3,\r\n      camera_name: 'Parking Lot Camera',\r\n      timestamp: '2024-01-15T09:45:00Z',\r\n      message: 'Parking Lot Camera is offline',\r\n      severity: 'high',\r\n      acknowledged: true\r\n    }\r\n  ];\r\n\r\n  // Mock stats data\r\n  const mockStats = {\r\n    total_detections: 156,\r\n    today_detections: 12,\r\n    motion_events: 89,\r\n    recording_time: '24h 15m',\r\n    storage_used: '4.6 GB',\r\n    system_status: 'Online'\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // Simulate API call\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        setDetections(mockDetections);\r\n        setAlerts(mockAlerts);\r\n        setStats(mockStats);\r\n      } catch (err) {\r\n        console.error('Failed to fetch detection data:', err);\r\n        // Fallback to mock data\r\n        setDetections(mockDetections);\r\n        setAlerts(mockAlerts);\r\n        setStats(mockStats);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const addDetection = (detection) => {\r\n    setDetections(prev => [detection, ...prev]);\r\n    setStats(prev => ({\r\n      ...prev,\r\n      total_detections: prev.total_detections + 1,\r\n      today_detections: prev.today_detections + 1\r\n    }));\r\n  };\r\n\r\n  const addAlert = (alert) => {\r\n    setAlerts(prev => [alert, ...prev]);\r\n  };\r\n\r\n  const acknowledgeAlert = (alertId) => {\r\n    setAlerts(prev => \r\n      prev.map(alert => \r\n        alert.id === alertId ? { ...alert, acknowledged: true } : alert\r\n      )\r\n    );\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Simulate refresh\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      setDetections([...mockDetections]);\r\n      setAlerts([...mockAlerts]);\r\n      setStats({...mockStats});\r\n    } catch (err) {\r\n      console.error('Failed to refresh data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    detections,\r\n    alerts,\r\n    stats,\r\n    loading,\r\n    addDetection,\r\n    addAlert,\r\n    acknowledgeAlert,\r\n    refreshData\r\n  };\r\n\r\n  return (\r\n    <DetectionContext.Provider value={value}>\r\n      {children}\r\n    </DetectionContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}